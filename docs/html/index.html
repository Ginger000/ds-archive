<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Wikipedia Webscrapper CS225 Final Project: WikiGraph</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Wikipedia Webscrapper CS225 Final Project
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Wikipedia Webscrapper: infinite knowledge</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle">
<div class="title">WikiGraph </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p class=""><a class="anchor" id="md_README"></a> WikiGraph crawls data from the public wikipedia database, stores it into a directed graph, with each wikipage being a vertex and each superlink from one page to another being an arrow (and edge). The goal of this project is to explore Wikipedia in an interesting and novel way.</p>
<h1><a class="anchor" id="autotoc_md31"></a>
Table of Contents</h1>
<ul>
<li><a href="#wikigraph">WikiGraph</a><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#required-documents">Required Documents</a></li>
<li><a href="#code">Code</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#bfs">BFS</a></li>
<li><a href="#dfs">DFS</a></li>
<li><a href="#dijkstra">Dijkstra</a></li>
<li><a href="#strongly-connected-components">Strongly Connected Components</a></li>
<li><a href="#page-rank">Page Rank</a></li>
</ul>
</li>
<li><a href="#tests">Tests</a></li>
<li><a href="#visualization">Visualization</a></li>
<li><a href="#video-presentation">Video Presentation</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md32"></a>
Required Documents</h1>
<p class="">The <a class="el" href="md_Documents_contract.html">contract</a>, ./Documents/development%20(meeting_notes).md "development logs", ./Documents/goals%20(project_proposal).md "goals/project proposal" and <a class="el" href="md_Documents_result.html">results</a> are located in the <a href="./Documents/">./Documents folder</a>.</p>
<h1><a class="anchor" id="autotoc_md33"></a>
Code</h1>
<p class="">Our base data is stored in <a href="database.txt"><code>database.txt</code></a> (467,136 nodes, 44 MB), which is part of the wikipedia network graph. A larger version is in <a href="largeDatabase.txt"><code>largeDatabase.txt</code></a> (533,642 nodes, 96 MB). They are obtained by our script crawler <a href="wikipedia_scrapper.py"><code>wikipedia_scrapper.py</code></a>. The wikipedia network is stored with the following format :</p>
<div class="fragment"><div class="line"> {C++}</div>
<div class="line">number of nodes in the whole database (leafs included)</div>
<div class="line">the name of the page, the number of the links it contains, the list of the links it contains comma seperated </div>
<div class="line">the name of the page, the number of the links it contains, the list of the links it contains comma seperated</div>
<div class="line">...</div>
</div><!-- fragment --><p> For example </p><div class="fragment"><div class="line"> {C++}</div>
<div class="line">3</div>
<div class="line">Cheese,2,Pancake,Obi-Wan</div>
<div class="line">Pancake,1,Cheese</div>
</div><!-- fragment --><p> See the following picture for a real example:</p>
<p class=""><img src="./Documents/images/database.png" alt="Image of how the databases are formatted" class="inline"/></p>
<p class="">The initial number of nodes in the databases is very important for large databases since our base structure for the <a class="el" href="classGraph.html">Graph</a> is an adjacency matrix with as backend a HashTable. Since resizing HashTables is very expensive computation providing the expected number of nodes helps reduce the number of times this operation is called. Thus reducing the total load time.</p>
<p class="">Our main code is in the folder <a href="wiki_graph/"><code>wiki_graph</code></a>, including <a href="./wiki_graph/BFS.cpp"><code>BFS</code></a>, <a href="./wiki_graph/DFS.cpp"><code>DFS</code></a>, <a href="./wiki_graph/PageRank.cpp"><code>PageRank</code></a>, <a href="./wiki_graph/Dijkstra.cpp"><code>Dijkstra</code></a> and <a href="./wiki_graph/StronglyConnected.cpp"><code>StronglyConnected</code></a>.</p>
<p class="">To get the results, run the generated exectuables for each of the algorithms.</p>
<h1><a class="anchor" id="autotoc_md34"></a>
Documentation</h1>
<p class="">A Doxygen documentation of the project has also been generated in <a href="docs/"><code>docs</code></a>. If you wish to see documentation open up <a href="./docs/html/index.html">the index file on in browser</a></p>
<h1><a class="anchor" id="autotoc_md35"></a>
Usage</h1>
<p class="">For each term the list of functionalities : <a class="el" href="classBFS.html">BFS</a>, <a class="el" href="classDFS.html">DFS</a>, <a class="el" href="classPageRank.html">PageRank</a>, <a class="el" href="classDijkstra.html">Dijkstra</a>, <a class="el" href="classStronglyConnected.html">StronglyConnected</a>, run make + the functionality name will will generate the executables. For example, </p><div class="fragment"><div class="line"> {C++}</div>
<div class="line">make Dijkstra</div>
</div><!-- fragment --><p> will generate the executable Djkstra.</p>
<h2><a class="anchor" id="autotoc_md36"></a>
BFS</h2>
<p class="">To compile this exectuable you must run:</p>
<div class="fragment"><div class="line">make BFS</div>
</div><!-- fragment --><p class="">To run this exectuable you must run:</p>
<div class="fragment"><div class="line">./BFS [input file] [start point] [max number of nodes to traverse (0 to iterate through everything)] [output location (empty for console)]</div>
</div><!-- fragment --><p class="">The arguments are:</p>
<ul>
<li>The input file (default = largeDatabase.txt) is the database to load, which is in the expected format described above</li>
<li>The start point (default = Cheese) is the initial entry that you wish to start the <a class="el" href="classBFS.html">BFS</a> to iterate</li>
<li>The max number of nodes to traverse (default = everything) is the number of nodes your wish to traverse, this can be helpful for very large databases.</li>
<li>The output location is either the file you want to place the output to or the console</li>
</ul>
<p class="">The output is in the format:</p>
<div class="fragment"><div class="line">BFS index: Wikientry</div>
<div class="line">BFS index: Wikientry</div>
<div class="line">...</div>
</div><!-- fragment --><p class="">Example:</p>
<p class=""><img src="./Documents/images/proof_of_implementing_BFS.png" alt="BFS" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md37"></a>
DFS</h2>
<p class="">To compile this exectuable you must run:</p>
<div class="fragment"><div class="line">make DFS</div>
</div><!-- fragment --><p class="">To run this exectuable you must run:</p>
<div class="fragment"><div class="line">./DFS [input file] [start point] [max number of nodes to traverse (0 to iterate through everything)] [output location (empty for console)]</div>
</div><!-- fragment --><p class="">The arguments are:</p>
<ul>
<li>The input file (default = largeDatabase.txt) is the database to load, which is in the expected format described above</li>
<li>The start point (default = Cheese) is the initial entry that you wish to start the <a class="el" href="classBFS.html">BFS</a> to iterate</li>
<li>The max number of nodes to traverse (default = everything) is the number of nodes your wish to traverse, this can be helpful for very large databases.</li>
<li>The output location is either the file you want to place the output to or the console</li>
</ul>
<p class="">The output is in the format:</p>
<div class="fragment"><div class="line">DFS index: Wikientry</div>
<div class="line">DFS index: Wikientry</div>
<div class="line">...</div>
</div><!-- fragment --><p class="">Example:</p>
<p class=""><img src="./Documents/images/proof_of_implementing_DFS.png" alt="DFS" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md38"></a>
Dijkstra</h2>
<p class="">To compile this exectuable you must run:</p>
<div class="fragment"><div class="line">make Dijkstra</div>
</div><!-- fragment --><p class="">To run this exectuable you must run:</p>
<div class="fragment"><div class="line">./Dijkstra [input file] [start] [end] [output location (empty for console)]</div>
</div><!-- fragment --><p class="">The arguments are:</p>
<ul>
<li>The input file (default = largeDatabase.txt) is the database to load, which is in the expected format described above</li>
<li>The start point (default = Cheese) is the initial entry that you wish to start the <a class="el" href="classBFS.html">BFS</a> to iterate</li>
<li>The end point (default = Cheese) the end location you want to reach</li>
<li>The output location is either the file you want to place the output to or the console</li>
</ul>
<p class="">The output is in the format:</p>
<div class="fragment"><div class="line">start point-&gt;link1-&gt;link2-&gt;...-&gt;end point-&gt;END</div>
</div><!-- fragment --><p class="">If there exists no path then the output is in the format:</p>
<div class="fragment"><div class="line">end point-&gt;END</div>
</div><!-- fragment --><p class="">Example:</p>
<p class=""><img src="./Documents/images/proof_of_inplementing_Dijkstra.png" alt="Dijkstra" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md39"></a>
Strongly Connected Components</h2>
<p class="">To compile this exectuable you must run:</p>
<div class="fragment"><div class="line">make StronglyConnected</div>
</div><!-- fragment --><p class="">To run this exectuable you must run:</p>
<div class="fragment"><div class="line">./StronglyConnected [input file] [n largest (0 for everything)] [output location (leave empty for console)]</div>
</div><!-- fragment --><p class="">The arguments are:</p>
<ul>
<li>The input file (default = largeDatabase.txt) is the database to load, which is in the expected format described aboveiterate</li>
<li>The n largest (default = everything) the total number of components to return, from largest to smallest.</li>
<li>The output location is either the file you want to place the output to or the console</li>
</ul>
<p class="">The output is in the format:</p>
<div class="fragment"><div class="line">index, (number of nodes in components): node1, node2, node3, ...</div>
<div class="line">...</div>
</div><!-- fragment --><p class="">Example:</p>
<p class=""><img src="./Documents/images/proof_of_implementing_StronglyConnectedComponents_testSmallDatabase.png" alt="Strongly Connected" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md40"></a>
Page Rank</h2>
<p class="">To compile this exectuable you must run:</p>
<div class="fragment"><div class="line">make PageRank</div>
</div><!-- fragment --><p class="">To run this exectuable you must run:</p>
<div class="fragment"><div class="line">./PageRank [input file] [max number of nodes to print (0 to print everything)] [output location (leave empty for console)]</div>
</div><!-- fragment --><p class="">The arguments are:</p>
<ul>
<li>The input file (default = largeDatabase.txt) is the database to load, which is in the expected format described aboveiterate</li>
<li>The max number of nodes to print (default = everything) the number of nodes to print</li>
<li>The output location is either the file you want to place the output to or the console</li>
</ul>
<p class="">The output is in the format:</p>
<div class="fragment"><div class="line">The rank of node1 is : rank.</div>
<div class="line">The rank of node2 is : rank.</div>
<div class="line">The rank of node3 is : rank.</div>
<div class="line">...</div>
</div><!-- fragment --><p class="">Example:</p>
<p class=""><img src="./Documents/images/proof_of_implementing_PageRank.png" alt="Page Rank" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md41"></a>
Tests</h1>
<p class="">Our tests code and tests data are in the folder <a href="tests/">tests</a></p>
<p class="">To compile the tests:</p>
<div class="fragment"><div class="line">make test</div>
</div><!-- fragment --><p class="">To run the tests you must run:</p>
<div class="fragment"><div class="line">./test</div>
</div><!-- fragment --><p class="">The tests test:</p><ul>
<li>testReadGraph: The base <a class="el" href="classGraph.html">Graph</a> data loading capabilities (i.e. given a file are we able to load the data as an adjacency matrix) using the <a href="./tests/testDatabase.txt"><code>testDatabase.txt</code></a> test graph.</li>
<li>testGraphTranspose: The base <a class="el" href="classGraph.html">Graph</a> transpose function (i.e. for the Strongly Connected components algorithm we need to take the transpose of the graph, invert the edges)</li>
<li>testGetChildren: The base <a class="el" href="classGraph.html">Graph</a> getChildren function (i.e. given a node name does it return the current children)</li>
<li>testBFS: Tests that <a class="el" href="classBFS.html">BFS</a> returns the correct number of nodes and in the correct order using the <a href="./tests/testDatabase.txt"><code>testDatabase.txt</code></a> test graph.</li>
<li>testBFSSmall: Tests that <a class="el" href="classBFS.html">BFS</a> returns the correct number of nodes and in the correct order using the <a href="./tests/test-small.txt"><code>test-small.txt</code></a> test graph.</li>
<li>testBFSMedium: Tests that <a class="el" href="classBFS.html">BFS</a> returns the correct number of nodes and in the correct order using the <a href="./tests/test-small.txt"><code>test-med.txt</code></a> test graph.</li>
<li>testDFS: Tests that <a class="el" href="classDFS.html">DFS</a> returns the correct number of nodes and in the correct order using the <a href="testDatabase.txt"><code>testDatabase.txt</code></a> test graph.</li>
<li>testDFSSmall: Tests that <a class="el" href="classDFS.html">DFS</a> returns the correct number of nodes and in the correct order using the <a href="./tests/test-small.txt"><code>test-small.txt</code></a> test graph.</li>
<li>testDFSMedium: Tests that <a class="el" href="classDFS.html">DFS</a> returns the correct number of nodes and in the correct order using the <a href="./tests/test-small.txt"><code>test-med.txt</code></a> test graph.</li>
<li>testDijkstraSmall: Tests <a class="el" href="classDijkstra.html">Dijkstra</a> using the <a href="./tests/test-self.txt"><code>test-self.txt</code></a>, where the weight of edge is the number of children it the current node has. It runs through all the possible path options (excluding start=end and choosing a node that does not exist).</li>
<li>testDijkstraSelf: Tests <a class="el" href="classDijkstra.html">Dijkstra</a> using the <a href="./tests/test-self.txt"><code>test-med.txt</code></a>, where the weight of each edge node is 1 except certain edges which are weighted 999 (and thus should never be traversed). It runs through all the possible path options (excluding start=end and choosing a node that does not exist).</li>
<li>testPageRankMini: Tests Page Rank's expected output of the <a href="./tests/testMiniWiki.txt"><code>testMiniWiki.txt</code></a> nodes. The correct version of <a class="el" href="classPageRank.html">PageRank</a> value is obtained by a matlab file <a href="./tests/testPageRank/testPageRank.m"><code>testPageRank.m</code></a>.</li>
<li>testPageRankSmall: Tests Page Rank's expected output of the <a href="./tests/testDatabase.txt"><code>testDatabase.txt</code></a> nodes. The correct version of <a class="el" href="classPageRank.html">PageRank</a> value is obtained by a matlab file <a href="./tests/testPageRank/testPageRankSmall.m"><code>testPageRankSmall.m</code></a>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md42"></a>
Visualization</h1>
<p class="">We implemented an interactive visualization of the wiki graph by <a href="./graph_visualization/color_visualization.py"><code>color_visualization.py</code></a> and present it as a html <a href="./graph_visualization/Wikipedia%20Network.html">Wikipedia Network</a>. In our visualization, each node is represented by a bubble, whose size is determined by the number of links it contains, and for all its children, we attaching them to their parent by gray straight lines. The nodes are evenly distributed in a 2D-plane with different color, and hanging the cursor one the node will open a box introducing the article name and the links it has. The interactive version is located here: <a href="https://ginger000.github.io/">https://ginger000.github.io/</a></p>
<p class=""><img src="./Documents/images/colored_graph.png" alt="Visualization" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md43"></a>
Video Presentation</h1>
<p class="">The video presentation is located on YouTube here: <a href="https://youtu.be/LBawlv6OBL8">https://youtu.be/LBawlv6OBL8</a></p>
<p class="">The video is also located here in case of an issue: <a href="https://drive.google.com/file/d/1lQBlQKDtPQRKRH1ba7F5VnkDS0zHxBUe/view?usp=sharing">https://drive.google.com/file/d/1lQBlQKDtPQRKRH1ba7F5VnkDS0zHxBUe/view?usp=sharing</a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
